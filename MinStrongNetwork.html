<!DOCTYPE html>
<html lang="en">
	<head>
		<link href="http://gmpg.org/xfn/11" rel="profile">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta http-equiv="content-type" content="text/html; charset=utf-8">

		<!-- Enable responsiveness on mobile devices-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

		<title>Cracking the Data Science Interview</title>

		<!-- CSS -->
		<link href="//fonts.googleapis.com/" rel="dns-prefetch">
		<link href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Abril+Fatface|PT+Sans:400,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="/theme/css/poole.css" />
		<link rel="stylesheet" href="/theme/css/hyde.css" />
		<link rel="stylesheet" href="/theme/css/syntax.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    
    <!-- CSS style sheets for pelican javascript plugin -->    
                <link rel="stylesheet" href="/css/min_max_vis.css" type="text/css" />

		<!-- RSS -->
		<link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
	<script type="text/javascript">
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-52706904-2', 'auto');
			ga('send', 'pageview');
	</script>
	</head>

	<body class="theme-base-darkgreen">
<div class="sidebar">
    <div class="container">
        <div >
            <h1 class="sidebar-title">
                <a href="/">
                    <!---<img class="profile-picture" src="/images/"> --->
                    Cracking the Data Science Interview
                </a>
            </h1>
        </div>
      <!---Add Pages for Static Content --->
        <div>
            <h1 class = "sidebar-page">
              <a href="/pages/About.html">
              About
              </a>
            </h1>
        </div>
        <div>
            <h1 class = "sidebar-page">
              <a href="/pages/reference_page.html">
              References
              </a>
            </h1>
        </div>
    <div>
    <nav class="sidebar-nav">
                <a class="sidebar-nav-item" href="https://www.linkedin.com/in/ravinakumar">
                    <i class="fa fa-linkedin"></i>
                </a>
                <a class="sidebar-nav-item" href="https://github.com/canyon289">
                    <i class="fa fa-github"></i>
                </a>

    </nav>
    </div>
    </div>
</div>		<div class="content container">
<div class="post">
	<h1 class="post-title">Q: Minimum Strongly Connected Network</h1>
	<span class="post-date">Sun 22 May 2016</span>
	<p>A group of software engineers want to develop an algorithm for finding strongly
connected groups among members of a social networking site. A group of people
are considered to be strongly connected if each person knows each other person
within the group.</p>
<p>Given M nodes and N edges develop an algorithm that determines
the minimum size of the largest strongly connected group.</p>
<p>Constraints:<br />
-  1 &lt;= N &lt;= 100000<br />
-  2 &lt;= M &lt;= 10000<br />
-  1 &lt;= M &lt;= N*(N-1)/2 </p>
<h2 id="question-format"><a class="toclink" href="#question-format">Question Format</a></h2>
<p>Online coding challenge</p>
<h2 id="time-constraint"><a class="toclink" href="#time-constraint">Time Constraint</a></h2>
<p>1 of 3 Coding problems 2 Hours given</p>
<h2 id="context"><a class="toclink" href="#context">Context</a></h2>
<p>This question was a 2nd round automated interview question
given after passing multiple choice statistics question</p>
<h2 id="initial-thoughts"><a class="toclink" href="#initial-thoughts">Initial thoughts</a></h2>
<p>There exist algorithms that can efficiently find strongly groups in
directed graphs such as 
<a href="https://en.wikipedia.org/wiki/Tarjan%27s_strongly_connected_components_algorithm">Tarjan's Algorithm</a>
or
<a href="https://en.wikipedia.org/wiki/Kosaraju%27s_algorithm">Kosaraju's Algorithm</a>.</p>
<p>Similar to the other coding questions the initial prompt
initially led me astray. I spent a couple of minutes  trying to determine the
best way to find all the strongly connected groups in an existing network.</p>
<p>However this is not what the problem is asking. Instead of <strong>finding</strong>
the sizes of the strongly connected groups, it's actually asking
<strong>how can you make the least strongly connected graph</strong></p>
<p>To illustrate this point here are some visualizations.
If we needed to construct a graph of 4 nodes and 4 edges it could look like this.</p>
<div id="wronglyconnectedgraph"></div>

<p>However this solution is suboptimal. We can see that there are 3 strongly
connected groups of 2 and 1 strongly connected group of three.  </p>
<p>Instead if we place 4 edges like this, the largest connected
group is 2 even though the number of edges and nodes are the same.
<div id="betterconnectedgraph"></div>  </p>
<h2 id="experimental-solution"><a class="toclink" href="#experimental-solution">Experimental Solution</a></h2>
<p>The trick to this problem is to construct the most weakly connected
network possible. this can intuitively be done in stages. At first the edges
are placed to connect the nodes "around the edges". Up until this point the
minimum strongly connected network size is 2. In code this is done by connecting
the N index node with the N+1 index node.</p>
<p>After this the we can continue by connecting the N index node with the N + 2
indexed node. We do this because if we connected the N node with the N+1 node
at this point we would end up with a strongly connected group of 3. Connecting
the N indexed node with the N+2 indexed node we can continue placing edges
while maintaining a strongly connected group of 2.</p>
<p>Eventually however it becomes all possible edges that allow for only strongly
connected groups are placed and groups of three begin to appear.</p>
<p>In words this is challenging to describe but the algorithm is quite visually
intuitive as shown below.</p>
<h3 id="click-to-start-search"><a class="toclink" href="#click-to-start-search">Click to start search</a></h3>
<div id="vis"></div>

<div class="highlight"><pre><span class="code-line"><span></span><span class="k">def</span> <span class="nf">add_edge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span></span>
<span class="code-line">        <span class="k">if</span> <span class="n">target</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_n</span><span class="p">:</span></span>
<span class="code-line">            <span class="n">target</span> <span class="o">=</span> <span class="n">target</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_n</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="k">if</span> <span class="n">target</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">relationships</span><span class="p">[</span><span class="n">source</span><span class="p">]:</span></span>
<span class="code-line">            <span class="bp">self</span><span class="o">.</span><span class="n">relationships</span><span class="p">[</span><span class="n">source</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">target</span><span class="p">)</span></span>
<span class="code-line">            <span class="bp">self</span><span class="o">.</span><span class="n">relationships</span><span class="p">[</span><span class="n">target</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">source</span><span class="p">)</span></span>
<span class="code-line"></span>
<span class="code-line">            <span class="bp">self</span><span class="o">.</span><span class="n">edges_placed</span> <span class="o">+=</span><span class="mi">1</span></span>
<span class="code-line">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">relationships</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">def</span> <span class="nf">create_network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></span>
<span class="code-line">        <span class="n">base_adder</span> <span class="o">=</span> <span class="mi">1</span></span>
<span class="code-line">        <span class="n">loop_adder</span> <span class="o">=</span> <span class="mi">0</span></span>
<span class="code-line">        <span class="n">n</span> <span class="o">=</span><span class="mi">0</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="c1">#Add all the loops</span></span>
<span class="code-line">        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">edges_placed</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_edges</span><span class="p">:</span></span>
<span class="code-line">            <span class="c1">#While adder is less than max n</span></span>
<span class="code-line">            <span class="k">while</span> <span class="p">(</span><span class="n">base_adder</span> <span class="o">+</span> <span class="n">loop_adder</span><span class="p">)</span>  <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_n</span><span class="p">:</span></span>
<span class="code-line">                <span class="c1">#While the node being iterated is less than the maximum</span></span>
<span class="code-line">                <span class="k">while</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_n</span><span class="p">:</span></span>
<span class="code-line"></span>
<span class="code-line">                    <span class="c1">#Stop adding edges if all are placed</span></span>
<span class="code-line">                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">edges_placed</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_edges</span><span class="p">:</span></span>
<span class="code-line">                        <span class="k">break</span></span>
<span class="code-line">                    <span class="k">else</span><span class="p">:</span></span>
<span class="code-line">                        <span class="bp">self</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="p">(</span><span class="n">loop_adder</span><span class="o">+</span><span class="n">base_adder</span><span class="p">))</span></span>
<span class="code-line">                        <span class="n">n</span><span class="o">+=</span><span class="mi">1</span></span>
<span class="code-line"></span>
<span class="code-line">                <span class="c1">#Continue connectiong nodes</span></span>
<span class="code-line">                <span class="n">loop_adder</span> <span class="o">+=</span> <span class="mi">2</span></span>
<span class="code-line">                <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span></span>
<span class="code-line">            <span class="c1">#Strong Connections Start</span></span>
<span class="code-line">            <span class="n">base_adder</span> <span class="o">+=</span> <span class="mi">1</span></span>
<span class="code-line">            <span class="n">loop_adder</span> <span class="o">=</span> <span class="mi">0</span></span>
</pre></div>
</div>
		</div>
	</body>
    <!-- Javascript Loader for Pelican Javascript plugin-->
                <script src="https://d3js.org/d3.v3.min.js"></script>
                <script src="/js/min_max_generator.js"></script>
                <script src="/js/min_max_vis_nonforce.js"></script>
</html>